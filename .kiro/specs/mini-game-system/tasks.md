# 구현 계획

- [ ] 1. 기본 인프라 및 라우터 설정






  - 게임 관련 API 라우터와 포인트 관리 라우터를 생성하고 기본 구조를 설정
  - Express 서버에 새로운 라우터들을 연결하고 인증 미들웨어 적용
  - _요구사항: 1.1, 1.3_

- [x] 2. 사용자 데이터 모델 확장








  - users.json의 사용자 객체에 gamePoints와 gameStats 필드 추가
  - 포인트 관리를 위한 데이터 구조 구현 및 기본값 설정
  - _요구사항: 3.2, 4.1, 5.1_

- [x] 3. 포인트 서비스 구현


















  - 포인트 적립, 차감, 일일 한도 검증 로직을 포함한 PointsService 클래스 작성
  - 포인트 내역 관리 및 날짜별 한도 초기화 기능 구현
  - 단위 테스트 작성으로 포인트 로직 검증
  - _요구사항: 3.1, 3.2, 4.1, 4.2, 4.3_

- [x] 4. 포인트 API 엔드포인트 구현










  - GET /api/points/balance - 현재 포인트 잔액 조회 API 구현
  - POST /api/points/earn - 포인트 적립 API 구현 (점수 검증 포함)
  - GET /api/points/history - 포인트 사용 내역 조회 API 구현
  - _요구사항: 3.2, 3.3, 5.1_

- [x] 5. 게임 API 엔드포인트 구현





  - GET /api/games/list - 사용가능한 게임 목록 반환 API 구현
  - POST /api/games/submit-score - 게임 점수 제출 및 포인트 변환 API 구현
  - GET /api/games/daily-stats - 일일 게임 통계 조회 API 구현
  - 점수 조작 방지를 위한 서버 사이드 검증 로직 포함
  - _요구사항: 2.4, 3.1, 4.4_

- [x] 6. 메인 페이지 네비게이션 수정


  - index.html의 navigateToFeature 함수에서 'mini-games' 케이스를 실제 페이지 이동으로 수정
  - 미니게임 카드 클릭 시 mini-games.html로 이동하도록 구현
  - _요구사항: 1.1_

- [ ] 7. 게임 선택 페이지 구현




  - mini-games.html 페이지 생성 (게임 목록, 포인트 현황, 일일 한도 표시)
  - mini-games.js 스크립트 작성 (API 호출, 게임 선택 로직)
  - 로그인 상태 확인 및 미로그인 시 로그인 페이지 리다이렉트 구현
  - _요구사항: 1.2, 1.3, 4.4, 5.1_

- [x] 8. 게임 엔진 기본 구조 구현


  - game-engine.js 파일 생성 및 GameEngine 클래스 구현
  - HTML5 Canvas 기반 게임 렌더링 시스템 구축
  - 게임 상태 관리 (시작, 진행, 종료) 및 점수 계산 로직 구현
  - _요구사항: 2.2, 2.3_

- [x] 9. Snake Game 구현


  - snake-game.html 페이지 및 snake-game.js 스크립트 생성
  - 뱀 게임 로직 구현 (이동, 먹이 섭취, 충돌 감지, 점수 계산)
  - 게임 종료 시 점수 제출 및 포인트 적립 연동
  - 모바일과 데스크톱 모두 지원하는 컨트롤 구현
  - _요구사항: 2.1, 2.2, 2.3, 2.4, 6.3_


- [x] 10. Memory Game 구현


  - memory-game.html 페이지 및 memory-game.js 스크립트 생성
  - 카드 매칭 게임 로직 구현 (카드 뒤집기, 매칭 확인, 점수 계산)
  - 게임 완료 시 점수 제출 및 포인트 적립 연동
  - 터치 및 클릭 이벤트 모두 지원하는 인터페이스 구현
  - _요구사항: 2.1, 2.2, 2.3, 2.4, 6.3_

- [x] 11. Puzzle Game 구현





  - puzzle-game.html 페이지 및 puzzle-game.js 스크립트 생성
  - 퍼즐 조각 맞추기 게임 로직 구현 (드래그 앤 드롭, 조각 배치, 완성 확인)
  - 시간 기반 점수 계산 및 게임 완료 시 포인트 적립 연동
  - 모바일 터치 드래그와 데스크톱 마우스 드래그 모두 지원
  - _요구사항: 2.1, 2.2, 2.3, 2.4, 6.3_

- [x] 12. 포인트 관리 클라이언트 구현





  - points-manager.js 파일 생성 및 PointsManager 클래스 구현
  - 포인트 적립 요청, 사용 처리, 잔액 조회 기능 구현
  - 네트워크 오류 시 재시도 로직 및 오류 처리 구현
  - _요구사항: 3.3, 3.4_

- [x] 13. 게임 결과 및 포인트 적립 UI 구현






  - 게임 종료 시 표시되는 결과 화면 컴포넌트 구현
  - 획득 점수, 변환된 포인트, 총 보유 포인트 표시
  - 다시 플레이 또는 게임 선택 페이지로 돌아가기 버튼 구현
  - _요구사항: 2.4, 3.3_

- [x] 14. 일일 한도 관리 시스템 구현






  - 자정 기준 일일 한도 초기화 로직 구현
  - 한도 도달 시 게임 플레이 제한 및 안내 메시지 표시
  - 남은 획득 가능 포인트 실시간 표시 기능 구현
  - _요구사항: 4.1, 4.2, 4.3, 4.4_

- [x] 15. 마이페이지 포인트 표시 기능 추가






  - 기존 마이페이지에 현재 보유 포인트 표시 섹션 추가
  - 포인트 사용 내역 조회 및 표시 기능 구현
  - 게임 통계 (플레이 횟수, 최고 점수) 표시 기능 추가
  - _요구사항: 5.1_

- [x] 16. 포인트 할인 시스템 구현






  - 상품 구매 페이지에 포인트 사용 옵션 추가 (향후 쇼핑몰 기능과 연동)
  - 포인트 사용량 입력 및 할인 금액 계산 로직 구현
  - 구매 완료 시 포인트 차감 처리 구현
  - _요구사항: 5.2, 5.3, 5.4, 5.5_

- [x] 17. 오류 처리 및 사용자 경험 개선






  - 네트워크 오류, 게임 크래시, 인증 오류에 대한 적절한 오류 처리 구현
  - 게임 로딩 상태 표시 및 3초 이내 로딩 완료 최적화
  - 게임 중 페이지 이탈 시 안전한 상태 초기화 구현
  - _요구사항: 2.5, 6.4, 6.5_

- [x] 18. 보안 강화 및 점수 검증








  - 게임별 최대 점수 제한 및 비현실적 점수 차단 로직 구현
  - 게임 세션 ID를 통한 중복 점수 제출 방지 시스템 구현
  - API 레이트 리미팅 및 입력 검증 강화
  - _요구사항: 3.4_

- [x] 19. 반응형 디자인 및 모바일 최적화






  - 모든 게임 페이지의 모바일 반응형 디자인 구현
  - 터치 이벤트 최적화 및 모바일 사용성 개선
  - 다양한 화면 크기에서의 게임 플레이 테스트 및 조정
  - _요구사항: 6.3_

- [ ] 20. 통합 테스트 및 최종 검증










  - 전체 게임 플레이 플로우 통합 테스트 실행
  - 포인트 적립부터 사용까지 전체 시나리오 테스트
  - 일일 한도, 보안 검증, 오류 처리 등 모든 기능 최종 검증
  - 성능 최적화 및 사용자 경험 개선사항 적용
  - _요구사항: 모든 요구사항 종합 검증_